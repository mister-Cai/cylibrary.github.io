(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login-login-login"],{"0d52":function(t,e,a){"use strict";var i=a("b585"),n=a.n(i);n.a},1618:function(t,e,a){"use strict";a.r(e);var i=a("7ad5"),n=a("28c9");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("0d52");var s,l=a("f0c5"),r=Object(l["a"])(n["default"],i["b"],i["c"],!1,null,"41e7c96a",null,!1,i["a"],s);e["default"]=r.exports},"28c9":function(t,e,a){"use strict";a.r(e);var i=a("dfc4"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"2a49":function(t,e,a){t.exports=a.p+"static/img/1.58bdad46.png"},"3c17":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".topimg[data-v-41e7c96a]{width:%?750?%;height:%?300?%;margin:0 auto;display:block}.top[data-v-41e7c96a]{width:%?640?%;padding:%?45?% 0 %?56?%;display:-webkit-box;display:-webkit-flex;display:flex;font-size:%?30?%;font-family:PingFang SC;font-weight:500;color:#333;margin:auto}.right[data-v-41e7c96a]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end}.left[data-v-41e7c96a]{margin-right:%?54?%;position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end}.chose[data-v-41e7c96a]{font-size:%?46?%!important;color:#1a91ff!important}.bar[data-v-41e7c96a]{width:%?92?%;height:%?9?%;background:#1a91ff;border-radius:%?5?%;position:absolute;bottom:%?-20?%;right:0;left:0;margin:auto}.plogin[data-v-41e7c96a]{width:%?640?%;min-height:%?522?%;padding:%?40?% %?30?% %?46?%;background:#fff;box-shadow:%?0?% %?23?% %?39?% %?12?% rgba(0,0,0,.1);border-radius:%?5?%;margin:auto}.ltitle[data-v-41e7c96a]{font-size:%?47?%;font-family:PingFang SC;font-weight:500;color:#000}.lname[data-v-41e7c96a]{font-size:%?22?%;font-family:PingFang SC;font-weight:500;color:#999;margin-top:%?50?%}.name[data-v-41e7c96a]{border-bottom:%?1?% solid #ddd;padding:%?14?% 0}.ma[data-v-41e7c96a]{border-bottom:%?1?% solid #ddd;padding:%?14?% 0;display:-webkit-box;display:-webkit-flex;display:flex;padding-top:%?40?%}.ma uni-image[data-v-41e7c96a]{width:%?174?%;height:%?70?%}.name1[data-v-41e7c96a]{border-bottom:%?1?% solid #1a91ff}.password[data-v-41e7c96a]{margin-top:%?32?%;border-bottom:%?1?% solid #ddd;padding:%?14?% 0;display:-webkit-box;display:-webkit-flex;display:flex;font-size:%?24?%;font-family:PingFang SC;font-weight:400;color:#1a91ff;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.password1[data-v-41e7c96a]{border-bottom:%?1?% solid #1a91ff}.lpassward[data-v-41e7c96a]{font-size:%?22?%;font-family:PingFang SC;font-weight:500;color:#1a91ff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;margin-top:%?20?%}.btn[data-v-41e7c96a]{width:%?418?%;margin:auto;margin-top:%?100?%}",""]),t.exports=e},"7ad5":function(t,e,a){"use strict";var i={uInput:a("31f4").default,uButton:a("e8fc").default,uToast:a("f562").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-image",{staticClass:"topimg",attrs:{src:a("2a49")}}),i("v-uni-view",{staticClass:"top"},[i("v-uni-view",{class:t.chose?"left":"left chose",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chose1(0)}}},[t._v("账户登录"),t.chose?t._e():i("v-uni-view",{staticClass:"bar"})],1),i("v-uni-view",{class:t.chose?"right chose":"right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chose1(1)}}},[t._v("手机号登录"),t.chose?i("v-uni-view",{staticClass:"bar"}):t._e()],1)],1),t.chose?i("v-uni-view",{staticClass:"plogin"},[i("v-uni-view",{staticClass:"ltitle"},[t._v("登录")]),i("v-uni-view",{staticClass:"lname"},[t._v("手机号")]),i("v-uni-view",{class:t.flag3?"name name1":"name"},[i("u-input",{attrs:{placeholderStyle:"font-size:22rpx;color:#999999;font-weight:400;","custom-style":t.styles,type:"number",maxlength:"11",placeholder:"请输入手机号"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.inputphone(1)},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.inputphone(0)}},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),i("v-uni-view",{class:t.flag5?"ma name1":"ma"},[i("u-input",{attrs:{placeholderStyle:"font-size:22rpx;color:#999999;font-weight:400;","custom-style":t.styles,type:"text",placeholder:"请输入图形识别码"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.inputma()},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.inputma()}},model:{value:t.ma,callback:function(e){t.ma=e},expression:"ma"}}),i("v-uni-image",{attrs:{src:t.imgma},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getma()}}})],1),i("v-uni-view",{class:t.flag4?"password password1":"password"},[i("u-input",{staticStyle:{flex:"1","margin-right":"15rpx"},attrs:{placeholderStyle:"font-size:22rpx;color:#999999;font-weight:400;","custom-style":t.styles,type:"text",maxlength:"6","password-icon":!0,placeholder:"请输验证码"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.inputphonema()},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.inputphonema()}},model:{value:t.phonema,callback:function(e){t.phonema=e},expression:"phonema"}}),i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getphonema()}}},[t._v("获取验证码")])],1)],1):i("v-uni-view",{staticClass:"plogin"},[i("v-uni-view",{staticClass:"ltitle"},[t._v("登录")]),i("v-uni-view",{staticClass:"lname"},[t._v("用户名")]),i("v-uni-view",{class:t.flag1?"name name1":"name"},[i("u-input",{attrs:{placeholderStyle:"font-size:22rpx;color:#999999;font-weight:400;","custom-style":t.styles,type:"text",placeholder:"请输入用户名"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.inputname()},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.inputname()}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),i("v-uni-view",{class:t.flag2?"password password1":"password"},[i("u-input",{staticStyle:{flex:"1"},attrs:{placeholderStyle:"font-size:22rpx;color:#999999;font-weight:400;","custom-style":t.styles,type:"password","password-icon":!0,placeholder:"请输入密码"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.inputword()},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.inputword()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),i("v-uni-view",{staticClass:"lpassward"},[i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.forgetpassword.apply(void 0,arguments)}}},[t._v("忘记密码?")])],1)],1),i("v-uni-view",{staticClass:"btn"},[i("u-button",{attrs:{size:"default",shape:"circle",type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.login()}}},[t._v("登录")])],1),i("u-toast",{ref:"uToast"})],1)},o=[];a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}))},b585:function(t,e,a){var i=a("3c17");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("26d5521f",i,!0,{sourceMap:!1,shadowMode:!1})},dfc4:function(t,e,a){"use strict";var i=a("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("2387")),o={data:function(){return{chose:0,name:"",password:"",styles:{"font-size":"28rpx"},phone:"",ma:"",phonema:"",publicKey:"",passwords:"",flag1:!1,flag2:!1,flag3:!1,flag4:!1,flag5:!1,imgma:this.$interfaces.validatecodeApi}},onLoad:function(){this.getkey()},methods:{chose1:function(t){this.chose=t,1==t&&this.getma()},inputname:function(){this.flag1=!this.flag1},inputword:function(){this.flag2=!this.flag2},inputphone:function(t){this.flag3=!this.flag3,!/^1[3456789]\d{9}$/.test(this.phone)&&t&&this.$refs.uToast.show({title:"手机号有误，请重新输入！",type:"error",params:{position:"top"}})},inputphonema:function(){this.flag4=!this.flag4},inputma:function(){this.flag5=!this.flag5},login:function(){var t=(new Date).getTime(),e=this.password+t;if(this.publicKey)var a=n.default.RSAUtils.encryptedString(this.publicKey,e);else a=this.password;this.passwords=a;var i=this;1==i.chose?i.$https.request({url:i.$interfaces.phoneloginApi,method:"POST",data:{phone:this.phone,smscode:this.phonema},header:{timestamp:t}}).then((function(t){0==t.code&&(uni.setStorageSync("token",t.data.token),uni.setStorageSync("isclientuser",t.data.isclientuser),uni.navigateTo({url:"/home/home/home"}))})):i.$https.request({url:i.$interfaces.accountloginApi,method:"POST",data:{account:this.name,password:this.passwords},header:{timestamp:t}}).then((function(t){0==t.code?(uni.setStorageSync("token",t.data.token),uni.setStorageSync("isclientuser",t.data.isclientuser),uni.navigateTo({url:"/home/home/home"})):i.$refs.uToast.show({title:t.message,type:"error",params:{}})}))},getkey:function(){var t=this,e=this;e.$https.request({url:e.$interfaces.keyPairApi,method:"POST",data:{}}).then((function(e){t.publicKey=n.default.RSAUtils.getKeyPair(e.data.exponent,"",e.data.modulus)}))},forgetpassword:function(){uni.navigateTo({url:"../forgetpassword/forgetpassword"})},getma:function(){this.imgma="";var t=(new Date).getTime();this.imgma=this.$interfaces.validatecodeApi+"?"+t},getphonema:function(){if(this.ma){var t=this;t.$https.request({url:t.$interfaces.pvalidatecodeApi,method:"POST",data:{phone:t.phone,imgcode:t.ma}}).then((function(e){0==e.code?t.$refs.uToast.show({title:"验证码发送成功！",type:"success",params:{}}):t.$refs.uToast.show({title:e.message,type:"error",params:{}})}))}else this.$refs.uToast.show({title:"请先输入图形码！",type:"error",params:{position:"top"}})}}};e.default=o}}]);